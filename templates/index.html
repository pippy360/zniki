{% extends "baseLayout.html" %}

{% block topLink %}
  <a href='/' class="topbarLink"> {{ page['name'] }}</a>
{% endblock %}

{% block head %}
    <link href="/static/threadStyle.css" rel="stylesheet">
    <link href="/static/components.css" rel="stylesheet">
    <style type="text/css">
.threadsWrapper{
  padding-bottom: 0px;
}
    </style>
{% endblock %}

{% block content %}
<div class="formWrapper">
  <span class="formsTitle">Create New Thread</span>
  <div class="newThreadForm">
    <form action="/threadSubmit" method="post">
      <span class="threadSubTitle">subject</span>
      <input name="subject" class="input" />
      <span class="threadSubTitle">comment</span>
      <textarea name="comment" class=""></textarea>
      <input class="submitButton" type="submit">
    </form>
  </div>
</div>
<div class="threadsWrapper">
{% for thread in page['threads'] %}
  <div class="thread">
    <div class="threadFirstPost clearfix">
      <div class="threadFirstPostImageWrapper clearfix">
        <img src="http://dummyimage.com/150">
      </div>
      <div class="threadFirstPostRight clearfix">
        <div class="threadFirstPostTitle">
          <span class="threadTitle">{{ thread['subject'] }}</span> - Thread id: {{ thread['threadId'] }} - <a href="/thread/{{ thread['threadId'] }}">Open Thread</a>
        </div>
        <div class="threadFirstPostMessage">
          {{ thread['posts'][0].message }}
        </div>
      </div>
    </div>
    {% for post in thread['posts'] %}
      {%- if post != thread['posts'][0] -%}
        <div class="postWrapper">
          <div class="post">
              {{ post.message }}
          </div>
        </div>
      {% endif %}
    {% endfor %}
  </div><!--/thread-->
{% endfor %}
<div class="pageNumbersCenterHack">
  <div class="pageNumbersWrapper clearfix">
    <ul class="pageNumbers clearfix">
      {% if pageButtons %}
        <li class="pageNumber clearfix">Pages: </li>
        {% for pageButton in pageButtons %}
          <li class="pageNumber clearfix">
            {% if pageButton.active == 'True' %}
              <a href="/page/{{ pageButton.number }}" class="active">{{ pageButton.number }}</a>
            {% else %}
              <a href="/page/{{ pageButton.number }}">{{ pageButton.number }}</a>
            {% endif %}
          </li>
        {% endfor %}
      {% endif %}
    </ul>
  </div>
</div>

</div><!--/threadsWrapper--> 
{% endblock %}
